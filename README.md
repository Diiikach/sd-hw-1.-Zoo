# ERP-система Московского Зоопарка

Консольное приложение для учета животных Московского зоопарка.

## Функциональные возможности

1. **Добавление животных** - с обязательной проверкой здоровья ветеринаром
2. **Добавление вещей на баланс** - столы, компьютеры
3. **Отчет по животным** - список всех животных с их характеристиками
4. **Потребление еды** - общее количество кг еды в сутки
5. **Контактный зоопарк** - список травоядных с добротой > 5
6. **Инвентаризация** - все объекты на балансе (животные + вещи)

## Структура проекта

```
moscow-zoo/
├── cmd/            # Точка входа приложения
├── console/        # Консольный интерфейс
├── di/             # DI-контейнер
├── domain/         # Доменная модель (сущности и интерфейсы)
├── services/       # Бизнес-логика (Zoo, VetClinic)
├── go.mod
└── README.md
```

## Применение принципов SOLID

### 1. Single Responsibility Principle (SRP)
Каждый класс имеет одну ответственность:
- `Animal` - хранение данных о животном
- `VetClinic` - проверка здоровья животных
- `Zoo` - управление коллекцией животных и вещей
- `App` - взаимодействие с пользователем
- `Container` - создание и управление зависимостями

### 2. Open/Closed Principle (OCP)
Система открыта для расширения:
- Новые виды животных добавляются путем создания новых структур (`Monkey`, `Rabbit`, `Tiger`, `Wolf`)
- Они наследуют базовые классы (`Herbo`, `Predator`) без модификации существующего кода
- Новые вещи добавляются аналогично (`Table`, `Computer` наследуют `Thing`)

### 3. Liskov Substitution Principle (LSP)
Все производные типы могут замещать базовые:
- `Monkey` и `Rabbit` реализуют `IHerbivore`
- `Tiger` и `Wolf` реализуют `IPredator`
- Все животные реализуют `IAnimal`
- Все вещи реализуют `IInventory`

### 4. Interface Segregation Principle (ISP)
Используются маленькие, специализированные интерфейсы:
- `IAlive` - только для живых существ (GetFood, SetFood)
- `IInventory` - только для инвентаризации (GetNumber, GetName)
- `IAnimal` - композиция IAlive + IInventory + методы здоровья
- `IHerbivore` - расширяет IAnimal добротой
- `IVetClinic`, `IZoo` - интерфейсы сервисов

### 5. Dependency Inversion Principle (DIP)
Зависимости направлены к абстракциям:
- `Zoo` зависит от `IVetClinic`, а не от конкретной реализации
- `App` зависит от `IZoo`, а не от конкретной реализации
- `Container` создает зависимости и внедряет их

## DI-контейнер

Реализован в пакете `di/container.go`:
- Создает все зависимости в одном месте
- Внедряет `VetClinic` в `Zoo`
- Позволяет легко заменять реализации для тестирования

## Запуск приложения

```bash
# Сборка
go build -o moscow-zoo ./cmd/main.go

# Запуск
./moscow-zoo

# Или напрямую
go run ./cmd/main.go
```

## Запуск тестов

```bash
# Все тесты
go test ./...

# С покрытием
go test ./... -cover

# Подробный вывод
go test ./... -v
```

## Покрытие кода тестами

- `domain/` - 100%
- `services/` - 100%
- `di/` - 100%

Общее покрытие бизнес-логики: **100%**

## Иерархия классов

```
IAlive (interface)
│
├── IInventory (interface)
│
├── IAnimal (interface) = IAlive + IInventory
│   │
│   ├── IHerbivore (interface)
│   │   └── Herbo (struct)
│   │       ├── Monkey
│   │       └── Rabbit
│   │
│   └── IPredator (interface)
│       └── Predator (struct)
│           ├── Tiger
│           └── Wolf
│
└── Thing (struct) implements IInventory
    ├── Table
    └── Computer
```

## Автор

Домашнее задание по курсу "Проектирование программного обеспечения"
Высшая школа экономики
